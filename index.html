<!DOCTYPE html>
<html lang="fr">
  <head>
    <title>Trieste | Une expérience intéractive</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" type="image/png" href="assets/images/dialogs/crabe.png" />

    <link rel="stylesheet" href="assets/css/font.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/position.css">
    <link rel="stylesheet" href="assets/css/fish.css">
    <link rel="stylesheet" href="assets/css/puzzle.css">
    <link rel="stylesheet" href="assets/css/code.css">
    <link rel="stylesheet" href="assets/css/video.css">
    <link rel="stylesheet" href="assets/css/loader.css">

    <!-- External link -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
    <script src="https://unpkg.com/typewriter-effect@latest/dist/core.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.1/howler.min.js"></script>
  </head>

  <body>
    <!-- Loader -->
    <section class="loader">
      <div class="loader_container">
        <h1>Trieste</h1>
        <p class="loader_text">Chargement du site...</p>
        <div class="sk-cube-grid">
          <div class="sk-cube sk-cube1"></div>
          <div class="sk-cube sk-cube2"></div>
          <div class="sk-cube sk-cube3"></div>
          <div class="sk-cube sk-cube4"></div>
          <div class="sk-cube sk-cube5"></div>
          <div class="sk-cube sk-cube6"></div>
          <div class="sk-cube sk-cube7"></div>
          <div class="sk-cube sk-cube8"></div>
          <div class="sk-cube sk-cube9"></div>
        </div>
        <div class="start" onclick="startMenu()">Lancer</div>
      </div>
    </section>

    <!-- Menu -->
    <section class="menu" style="display: none;">
      <div class="menu_container">
        <h1>Trieste</h1>
        <p>Une histoire interactive <b>point and click</b> en ligne qui vous propose une expérience culturelle et artistique autour d’un univers sombre et immersif dans les fonds marins.</p>
        <p>Trouver <b>des indices</b> dans les tableaux pour aider <i>César</i>, un vieux crabe issu d’une nature morte, à retrouver son habitat naturel.</p>
        <div class="start" onclick="playVideo('intro.mp4')">Commencer</div>
        <div class="audio">
          <i class="fas fa-headphones-alt"></i>
          <p>Cette expérience contient une <b>ambiance musicale</b>, veuillez activer le son.</p>
        </div>
      </div>
    </section>

    <!-- Les vidéos -->
    <div class="start_video" onclick="playVideo()" style="display: none;">Voir la vidéo</div>
    <section class="video_container">
      <img class="crose" id="close_video" src="assets/images/light_croix.png" alt="Croix pour fermer la vidéo">
      <div class="video_container_player">
        <video id="video" width="100%" height="100%" playsinline>
          Désolé, votre navigateur ne prend pas en charge les vidéos intégrées.
        </video>
      </div>
    </section>

    <!-- Les objets -->
    <div class="object_container">
      <img class="fish" src="assets/images/objects/fish.png" alt="Objet poisson récupéré">
      <img class="coin1" src="assets/images/objects/piece_1.png" alt="Objet 1 pièce récupéré">
      <img class="coin2" src="assets/images/objects/piece_2.png" alt="Objet 2 pièce récupéré">
      <img class="coin3" src="assets/images/objects/piece_3.png" alt="Objet 3 pièce récupéré">
    </div>

    <!-- Container avec la fresque -->
    <section class="container" style="display: none;">
      <div class="container_transform">
        <div class="container_relative">
          <div class="fresque_container">
            <img src="assets/images/fresque.jpg" class="fresque">
          </div>
          <div id="homme_parapluie" data-dialog-id="parapluie" class="interaction"></div>
          <div id="homme_qui_mange" data-dialog-id="homme_qui_mange" class="interaction after_dame"></div>
          <div id="homme_poisson" data-dialog-id="homme_poisson" class="interaction after_dame"></div>
          <div id="tram" data-dialog-id="tram" class="interaction after_dame"></div>
          <div id="dame_blanche" data-dialog-id="dame_blanche" class="interaction"></div>
          <div id="coffre_soldat" class="interaction after_dame"></div>
        </div>
      </div>
    </section>

    <!-- Les flèches -->
    <img class="arrow left" id="previous" src="assets/images/fleche.png" alt="Flèche de direction gauche">
    <img class="arrow" id="next" src="assets/images/fleche.png" alt="Flèche de direction droite">

    <!-- La bulle de dialogue -->
    <div class="dialog_container" style="display: none;">
      <div class="dialog">
        <div class="images">
          <img id="user" src="assets/images/dialogs/crabe.png">
          <img id="character" src="assets/images/dialogs/crabe.png">
        </div>
        <p class="text" id="app"></p>
        <img class="background_text" src="assets/images/image_text.png" alt="Background du texte">
      </div>
    </div>

    <!-- Question pour avoir un poisson -->
    <div class="fish_question_container">
      <img class="crose" id="close_fish" src="assets/images/light_croix.png" alt="Croix pour fermer le jeu">
      <div class="fish_question">
        <div class="text">
          <h2>Un poisson contre une question</h2>
          <p>La mer a parfois sa couleur,<br/>
            Et sa cote accueille les promeneurs.<br/>
            Qu’elle orne le doigt ou le cou,<br/>
            Pour une femme elle est bijou.<br/>
          </p>
          <h4 id="question">Qui est-elle ?</h4>
        </div>
        <div class="input">
          <input type="text" id="fish_answer" placeholder="Votre réponse...">
          <p class="right_answer">Bravo ! Vous gagnez un poisson.</p>
        </div>
      </div>
    </div>

    <!-- Puzzle du moteur -->
    <div class="puzzle_container">
      <img class="crose" id="close_puzzle" src="assets/images/light_croix.png" alt="Croix pour fermer le jeu">
      <h2>Reconstruis le moteur</h2>
      <div class="game_container">
        <div class="puzzle piece1"></div>
        <div class="puzzle piece2"></div>
        <div class="puzzle piece3"></div>
        <div class="puzzle piece4"></div>
        <div class="puzzle piece5"></div>
        <div class="puzzle piece6"></div>
        <div class="puzzle piece7"></div>
        <div class="puzzle piece8"></div>
        <div class="puzzle piece9"></div>
      </div>
    </div>

    <!-- Enigme avec le code -->
    <div class="code_container">
      <img class="crose" id="close_code" src="assets/images/light_croix.png" alt="Croix pour fermer le jeu">
      <h2>Trouve la combinaison</h2>
      <div class="keypad_wrapper">
        <div class="screen"></div>
        <div class="flasher"></div>
        <div class="error notification">Erreur</div>
        <div class="success notification">Code bon</div>
        
        <div class="key">1</div>
        <div class="key">2</div>
        <div class="key">3</div>
        <div class="key">4</div>
        <div class="key">5</div>
        <div class="key">6</div>
        <div class="key">7</div>
        <div class="key">8</div>
        <div class="key">9</div>
        <div class="key last">0</div>
      </div>
    </div>

    <script src="assets/js/scene.js"></script>
    <script src="assets/js/dialogue.js"></script>
    <script src="assets/js/text_animation.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/fish.js"></script>
    <script src="assets/js/puzzle.js"></script>
    <script src="assets/js/code.js"></script>
    <script src="assets/js/video.js"></script>
    <script src="assets/js/loader.js"></script>
  </body>
</html>